var wsScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};!function(){"use strict";angular.module("wsContentScroller",["common.services.ws.polyfill","common.services.ws.debounce","common.services.ws.requestanimation","common.services.ws.scrollContainerAPI","ws.scrollHelpers","common.directives.ws.scrollControls","common.directives.ws.scrollContainer"]).value("wsScrollDuration",350).value("wsScrollEasing",wsScrollDefaultEasing)}(),angular.module("ws.scrollHelpers",["common.services.ws.requestanimation"]).run(["$window","$q","cancelAnimation","wsRequestAnimation","wsScrollEasing",function(e,t,n,o,l){"use strict";var r={},c=function(e){return"undefined"!=typeof window.HTMLDocument&&e instanceof window.HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},i=function(e){return"undefined"!=typeof window.HTMLDocument&&e instanceof window.HTMLDocument||e.nodeType&&e.nodeType===e.ELEMENT_NODE},a=function(e){return i(e)||c(e)?e:e[0]};r.wsScrollTo=function(t,n,o,r){o&&!r&&(r=l);var i;if(angular.isDefined(o)&&(i=this.wsScrollToAnimated),i)return i.apply(this,arguments);var s=a(this);return c(s)?e.scrollTo(t,n):(s.scrollLeft=t,void(s.scrollTop=n))};var s,u;r.wsScrollToAnimated=function(e,r,c,i){c&&!i&&(i=l);var a=this.wsScrollLeft(),d=this.wsScrollTop(),f=Math.round(e-a),m=Math.round(r-d),v=null,p=this,w="scroll mouseup  touchmove keyup",h=function(e){(!e||e.which>0)&&(p.unbind(w,h),n(s),u.reject(),s=null)};if(0>=c)return c=0,h(),u=t.defer(),u.resolve(),u.promise;if(s&&h(),u=t.defer(),0===c||!f&&!m)return 0===c&&p.wsScrollTo(e,r),u.resolve(),u.promise;var g=function(e){null===v&&(v=e);var t=e-v,n=t>=c?1:i(t/c);p.scrollTo(a+Math.ceil(f*n),d+Math.ceil(m*n)),1>n?s=o(g):(p.unbind(w,h),s=null,u.resolve())};return p.wsScrollTo(a,d),p.bind(w,h),s=o(g),u.promise},r.wsScrollLeft=function(t,n,o){if(angular.isNumber(t))return this.wsScrollTo(t,this.wsScrollTop(),n,o);var l=a(this);return c(l)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:l.scrollLeft},r.wsScrollTop=function(t,n,o){if(angular.isNumber(t))return this.wsScrollTo(this.wsScrollLeft(),t,n,o);var l=a(this);return c(l)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:l.scrollTop},r.wsScrollYIncrement=function(e,t){var n=a(this),o=Math.round(angular.element(n)[0].clientHeight),l=Math.round(angular.element(n)[0].scrollHeight),r=angular.element(n)[0].scrollTop,c=0,i=!1;if("down"===e){var s=r+o*t;s+o>=l?(i=!0,c=l):c=Math.round(s)}else if("up"===e){var u=r-2*o*t;0>=u?(i=!0,c=0):c=Math.round(r-o*t)}return{incrementValue:c,deactivate:i}},r.wsScrollYIncrementFull=function(e){var t=a(this),n=Math.round(angular.element(t)[0].clientHeight),o=Math.round(angular.element(t)[0].scrollHeight),l=angular.element(t)[0].scrollTop,r=0,c=0;if("down"===e){var i=Math.round((o-l)/n);c=i>1?500*i:500,r=o}else if("up"===e){var s=Math.round(o/n);c=s>1?500*s:500,r=0}return{incrementValue:r,duration:c}},r.wsScrollXIncrement=function(e,t){var n=a(this),o=Math.round(angular.element(n)[0].clientWidth),l=Math.round(angular.element(n)[0].scrollWidth),r=Math.round(angular.element(n)[0].scrollLeft),c=0,i=!1;if("right"===e){var s=r+o*t;s+o>=l?(c=l,i=!0):c=Math.round(s)}else if("left"===e){var u=r-2*o*t;0>=u?(c=0,i=!0):c=Math.round(r-o*t)}return{incrementValue:c,deactivate:i}},r.wsScrollXIncrementFull=function(e){var t=a(this),n=Math.round(angular.element(t)[0].scrollWidth),o=Math.round(angular.element(t)[0].clientWidth),l=Math.round(angular.element(t)[0].scrollLeft),r=0,c=0;if("right"===e){r=n;var i=Math.round((n-l)/o);c=i>1?500*i:500}else if("left"===e){r=0;var s=Math.round(l/o);c=s>1?500*s:500}return{incrementValue:r,duration:c}},angular.forEach(r,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^wsScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("common.directives.ws.scrollContainer",["common.services.ws.scrollContainerAPI"]).directive("wsScrollContainer",["wsSrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,n,o){o.$observe("wsScrollContainer",function(o){angular.isString(o)&&(o=document.getElementById(o)),o=angular.isElement(o)?angular.element(o):n,e.setContainer(t,o),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("common.directives.ws.scrollControls",["ws.scrollHelpers","common.services.ws.debounce","common.services.ws.scrollContainerAPI"]),angular.module("common.directives.ws.scrollControls").config(["$provide",function(e){"use strict";e.decorator("$interval",["$delegate",function(e){var t=e.cancel.bind(e);return e.cancel=function(e){var n=t(e);return n&&e&&(e.cancelled=!0),n},e}])}]),angular.module("common.directives.ws.scrollControls").directive("wsScrollControls",["wsScrollDuration","$interval","wsDebounce","$timeout","wsSrollContainerAPI",function(e,t,n,o,l){"use strict";return{restrict:"A",scope:{scrollTarget:"@"},controller:["$log","$scope","$interval",function(e,t,n){function l(e,t){var o=null;return o="vertical"===f.scrollType?f.container.wsScrollYIncrement(e,f.incPrcnt):f.container.wsScrollXIncrement(e,f.incPrcnt),o.deactivate&&(s&&!s.cancelled&&t&&(n.cancel(s),f.updateButtonRequestedState()),f.setControlsDeActiveState(t,e),f.emitScrollControlsActiveState()),o}function r(){var e=l(m,!0);(!s||s.cancelled)&&("vertical"===f.scrollType?f.container.wsScrollToAnimated(0,e.incrementValue,f.duration,!1):f.container.wsScrollToAnimated(e.incrementValue,0,f.duration,!1))}function c(){if(s&&!s.cancelled&&n.cancel(s),l(m,!0),"horizontal"===f.scrollType){var e=f.container.wsScrollXIncrementFull(m);v=!0,f.container.wsScrollToAnimated(e.incrementValue,0,e.duration,!1)}else{var t=f.container.wsScrollYIncrementFull(m);v=!0,f.container.wsScrollToAnimated(0,t.incrementValue,t.duration,!1)}s=n(r,d)}function i(){f.updateButtonRequestedState(),s&&!s.cancelled&&n.cancel(s),v&&(v=!1,f.container.wsScrollToAnimated(0,0,0,!1),f.setControlsDeActiveState(!1,m),f.emitScrollControlsActiveState())}this.duration=null,this.container=null,this.incPrcnt=null,this.scrollType=null,this.containerScrollTop=0,this.scrollControlsDeactivate={},this.scrollControlsDeactivate.state=!1,this.scrollControlsDeactivate.direction=null;var a=null,s=null,u=!1,d=50,f=this,m=null,v=!1;this.setControlsDeActiveState=function(e,t){this.scrollControlsDeactivate.state=e,this.scrollControlsDeactivate.direction=t},this.updateButtonRequestedState=function(){a=o(function(){t.$apply(function(){u=!1})},2*this.duration)},this.isButtonRequest=function(){return u},this.emitScrollControlsActiveState=function(){t.$emit("scroll-controls:activeState",this.scrollControlsDeactivate)},this.scrollMoveRequested=function(e,t,d){a&&o.cancel(a),u=!0,this.scrollType||(this.scrollType="up"===e||"down"===e?"vertical":"horizontal"),m=e,this.scrollControlsDeactivate.state&&this.scrollControlsDeactivate.direction!==m&&l(this.scrollControlsDeactivate.direction,!1),t&&(!s||s&&s.cancelled)&&d?c():!t||s&&(!s||s.cancelled)||d?t||(n.cancel(s),r(),this.updateButtonRequestedState()):i()},t.$on("$destroy",function(){n.cancel(s),o.cancel(a)})}],link:function(t,o,r,c){var i=null;l.setContainer(t,angular.element(document.getElementById(t.scrollTarget))),c.duration=r.duration?parseInt(r.duration,10):e,c.container=l.getContainer(t),c.incPrcnt=r.incPrcnt&&parseInt(r.incPrcnt,10)<100?.01*parseInt(r.incPrcnt,10):.15,i=c.container.on("scroll",n(function(){c.isButtonRequest()||(Math.round(c.container[0].scrollTop)+Math.round(c.container[0].clientHeight)>=Math.round(c.container[0].scrollHeight)?(c.setControlsDeActiveState(!0,"down"),t.$emit("scroll-controls:activeState",c.scrollControlsDeactivate)):0===Math.round(c.container[0].scrollTop)?(c.setControlsDeActiveState(!0,"up"),t.$emit("scroll-controls:activeState",c.scrollControlsDeactivate)):c.scrollControlsDeactivate.state&&(c.container[0].scrollTop>c.containerScrollTop?(c.containerScrollTop=c.container[0].scrollTop,"up"===c.scrollControlsDeactivate.direction?(c.setControlsDeActiveState(!1,"up"),t.$emit("scroll-controls:activeState",c.scrollControlsDeactivate)):"down"===c.scrollControlsDeactivate.direction&&(c.setControlsDeActiveState(!1,"down"),t.$emit("scroll-controls:activeState",c.scrollControlsDeactivate))):c.container[0].scrollTop<c.containerScrollTop&&(c.containerScrollTop=c.container[0].scrollTop,"down"===c.scrollControlsDeactivate.direction?(c.setControlsDeActiveState(!1,"down"),t.$emit("scroll-controls:activeState",c.scrollControlsDeactivate)):"up"===c.scrollControlsDeactivate.direction&&(c.setControlsDeActiveState(!1,"up"),t.$emit("scroll-controls:activeState",c.scrollControlsDeactivate)))))},150,!1)),t.$on("$destroy",function(){i()})}}}]),angular.module("common.directives.ws.scrollControls").directive("scrollButton",["$interval","$timeout",function(e,t){"use strict";var n=!!("ontouchstart"in window);return{require:"^wsScrollControls",restrict:"A",link:function(o,l,r,c){function i(e,t){t===!0||t===!1?($[g]=t,c.scrollMoveRequested(g,e,t)):$[g]||c.scrollMoveRequested(g,e,t)}function a(e,n){e&&T&&p(),S=t(function(){o.$apply(function(){switch(n){case"up":g===n&&(o.disableUp=e),e&&"down"===g&&(o.disableDown=!1);break;case"down":g===n&&(o.disableDown=e),e&&"up"===g&&(o.disableUp=!1);break;case"left":g===n&&(o.disableLeft=e),e&&"right"===g&&(o.disableRight=!1);break;case"right":g===n&&(o.disableRight=e),e&&"left"===g&&(o.disableLeft=!1)}})},0)}function s(e){var t=!1;switch(e){case"up":t=o.disableUp;break;case"down":t=o.disableDown;break;case"left":t=o.disableLeft;break;case"right":t=o.disableRight}return t}function u(){$[g]||T||s(g)||(e.cancel(C),e.cancel(b),T=!0,y&&(l.off("click"),y=null),i(!0,!0))}function d(){y||(y=l.on("click",function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),$[g]||T||s(g)||(e.cancel(b),e.cancel(C),i(!1,null))}))}function f(){C&&!C.cancelled&&e.cancel(C),p(),y||(C=e(d,D))}function m(){b&&!b.cancelled&&e.cancel(b),v(),b=e(u,D)}function v(){A||(A=l.on("mouseleave",function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.cancel(C),e.cancel(b),$[g]&&T&&!s(g)&&(i(!0,!1),f())})),M||(M=l.on("mouseup",function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.cancel(C),e.cancel(b),$[g]&&T&&!s(g)&&(i(!0,!1),f())}))}function p(){T=!1,l.off("mouseleave"),A=null,l.off("mouseup"),M=null}var w=null,h=null,g=r.scrollBtnType,S=null,D=600,C=null,b=null,T=!1,$={},y=null,A=null,M=null;$.up=!1,$.down=!1,$.left=!1,$.right=!1,w=o.$on("scroll-controls:activeState",function(e,t){a(t.state,t.direction),t.state||t.direction!==g||($[t.direction]=t.state)}),n?(l.on("touchend",function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!$[g]||T||s(g)||i(!0,!1)}),l.on("touchstart",function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),$[g]||s(g)||i(!0,!0)})):l.on("mousedown",function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),T||m()}),d(),o.disableUp=r.disableUp?o.$eval(r.disableUp):!1,o.disableDown=r.disableDown?o.$eval(r.disableDown):!1,o.disableLeft=r.disableLeft?o.$eval(r.disableLeft):!1,o.disableRight=r.disableRight?o.$eval(r.disableRight):!1,o.disableUp?(c.setControlsDeActiveState(o.disableUp,"up"),a(o.disableUp,"up")):o.disableDown?(c.setControlsDeActiveState(o.disableDown,"down"),a(o.disableDown,"down")):o.disableLeft?(c.setControlsDeActiveState(o.disableLeft,"left"),a(o.disableLeft,"left")):o.disableRight&&(c.setControlsDeActiveState(o.disableRight,"right"),a(o.disableRight,"right")),o.$on("$destroy",function(){h(),w(),t.cancel(S),t.cancel(b),t.cancel(C),l.off("click"),l.off("mousedown"),l.off("mouseleave"),l.off("mouseup"),l.off("touchend"),l.off("touchstart")})}}}]),angular.module("common.services.ws.requestanimation",["common.services.ws.polyfill"]).factory("wsRequestAnimation",["wsPolyfill","$timeout",function(e,t){"use strict";var n=0,o=function(e){var o=(new Date).getTime(),l=Math.max(0,16-(o-n)),r=t(function(){e(o+l)},l);return n=o+l,r};return e("requestAnimationFrame",o)}]).factory("cancelAnimation",["wsPolyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("common.services.ws.scrollContainerAPI",[]).factory("wsSrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var o=e.$id;return t[o]=n,o},o=function(e){return t[e.$id]?e.$id:e.$parent?o(e.$parent):void 0},l=function(n){var l=o(n);return l?t[l]:e},r=function(e){var n=o(e);n&&delete t[n]};return{getContainerId:o,getContainer:l,setContainer:n,removeContainer:r}}]),angular.module("common.services.ws.debounce",[]).factory("wsDebounce",["$timeout",function(e){"use strict";return function(t,n,o){var l=null;return function(){var r=this,c=arguments,i=o&&!l;return l&&e.cancel(l),l=e(function(){l=null,o||t.apply(r,c)},n,!1),i&&t.apply(r,c),l}}}]),angular.module("common.services.ws.polyfill",[]).factory("wsPolyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,o){if(e[n])return e[n];for(var l=n.substr(0,1).toUpperCase()+n.substr(1),r=0;r<t.length;r++){var c=t[r]+l;if(e[c])return e[c]}return o}}]);
//# sourceMappingURL=maps/ws-angular-content-scroller.min.js.map